# Lending Club

Lending Club (LC) is a lender that provides personal loans for debt consolidation and major purchases. The company works on a "peer to peer" basis, in that loans are often funded by individual investors who can look at a series of potential loan "investments" and choose to fund all or part of the loan. The goal of this analysis will be find out if machine learning and/or general EDA could be used to hypothetically improve one's returns beyond what one would get by selecting loans by the grades LC assigns to them, or by investing in a broad basket of loans. Unlike most machine learnign problems where the goal is accurracy above all us, I intend to show how a "good" or "okay" model can dramatically improve returns if it identifies a significant percentage of the bad loans. A loan default can cost significantly more than paid off loan generates in profit, so within a certain parameters a model that causes you to "miss out" on a number of good investments is still valuable if it flags a signicant number of bad ones.

## Note on the data

Unles prior authorization is given Lending Club restricts the use of their data to investment evaluation purposes, so I've limited the scope of this project to looking at things from an investment perspective and have purposely avoided analyses that go beyond the scope of what's included in their public facing data for potential investors. Functionally this means that the EDA won't do things like profile ideal customers, and the predictive modeling will focus on minimizing losses.

If you want to replicate my results you will have to download the data for the 2015 calendar year directly from Lending Club, create a directory called 'data' and then update the file name where appropriate in the preprocessing file. Also, the LC files downloaded in an inconsistent matter whereas some opened up without issues and others didn't, in a few instances I had to open them up in Excel and then re-save them as a UTF-8 CSV.

Additionally: this code, analysis and files in this repository are strictly for educational purposes and are not meant to constitute investment advice.

## This repository contains the following files

Note: in order to replicate my results, you should run the files and/or notebooks in the order they're listed below after first downloading the dataset from Lending Club.

1) **LC_preprocessing_final.py:** this python script imports the downloaded CSV file from the Lending Club web site and does the initial high level data cleaning related to items where the cleaning tasks are more intuitive and don't need significant study an analysis first. E.g. removing the '%' symbol from the values in the interest rate column. Cleaning tasks in this file included: taking log values of columnns with large ranges (E.g. income ranged from several thousand to several million) calculating measures such as lost principle, the customer's monthly debt payments before and after the loan and expressing measures such as length of employment in months. Another reason for doing this work in a single script vs. a notebook is that due to the size
of the file, it was significantly faster to subset the file, update fields and calculate measures in a script vs a notebook.

2) **LC_Cleaning_LightEDA.ipynb:** this file is the second stage of cleaning the data, along with some high level EDA. The cleaning tasks in this file were of the type that required significant analysis, E.g. filling in missing values or condensing the categories of loan purposes. This file also hot encodes certain fields and then generates a CSV file that can then be picked up/used by the machine learning notebook.

3) **LC_EDA_FINAL.ipynb:** this notebook where the EDA was performed, inclusive of things such as calculating default rates, visualizations and state level data. This document takes as an input the CSV file generated by the notebook above. It also has a series of functions are used to generate most of the analysis simply for expediency sake.

4) **ML_Modeling_Reporting.ipynb:** this notebook contains the machine learning models and reports out the final results.(pending)

### Updates

* 9/17/2020: added the README file, LC_proprocessing(final).py and the notebook used to perform additional data cleaning and feature engineering.
* 9/22/2020: added an initial draft of the most extensive EDA, plan is to replace all the functions with an embedded class to make the output even cleaner.
